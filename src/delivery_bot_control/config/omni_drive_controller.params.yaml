controller_manager:
  ros__parameters:
    update_rate: 100  # Reduced from 200 - still fast but more reasonable
    
    gains:
      # More conservative PID gains to reduce overshoot
      wheel1_joint: {p: 10.0, i: 0.1, d: 0.1, i_clamp: 1.0, ff: 1.0}
      wheel2_joint: {p: 10.0, i: 0.1, d: 0.1, i_clamp: 1.0, ff: 1.0}
      wheel3_joint: {p: 10.0, i: 0.1, d: 0.1, i_clamp: 1.0, ff: 1.0}
    
    joint_state_broadcaster:
      type: joint_state_broadcaster/JointStateBroadcaster
    
    omni_wheel_drive_controller:
      type: velocity_controllers/JointGroupVelocityController

omni_wheel_drive_controller:
  ros__parameters:
    joints:
      - wheel1_joint
      - wheel2_joint
      - wheel3_joint
    
    interface_name: velocity
    
    # Match the controller update rate for consistency
    state_publish_rate: 100.0  # Increased from 50 to match update_rate
    
    # Tighter command timeout
    command_timeout: 0.1  # Reduced from 0.5 for faster response
    
    # Optional: Add some smoothing/filtering
    use_stamped_msg: true