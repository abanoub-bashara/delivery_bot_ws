# config/ros2_control.yaml

controller_manager:
  ros__parameters:
    update_rate: 100
    use_sim_time: true

    # 1) Joint-state broadcaster (no change)
    joint_state_broadcaster:
      ros__parameters: {}

    # 2) Omni-wheel controller for 3 wheels in a circle
    omni_wheel_drive_controller:
      ros__parameters:
        # name of controller plugin
        type: "omni_wheel_drive_controller/OmniWheelDriveController"

        # twist → wheel speeds
        command_topic: "/cmd_vel"

        # Frame IDs
        base_frame_id: "base_link"
        odom_frame_id: "odom"
        publish_odometry: true
        publish_rate: 50
        cmd_vel_timeout: 0.25

        # Robot geometry: 3 wheels, radius r, at radius R, separated by 120°
        wheels:
          - { joint: "wheel1_joint", radius: 0.024, angle: 0.0       }
          - { joint: "wheel2_joint", radius: 0.024, angle: 2.094395 }  # 120° = 2π/3
          - { joint: "wheel3_joint", radius: 0.024, angle: 4.188790 }  # 240° = 4π/3

        # Distance from center to each wheel contact point (meters)
        robot_radius: 0.1155
